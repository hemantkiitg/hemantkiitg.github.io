---
layout: archive
title: "Gallery"
permalink: /portfolio/
author_profile: true
---

{% include base_path %}

Inside laboratory
{% assign all_static = site.static_files | where_exp: "f", "f.path contains '/assets/images/portfolio/'" %}
{% assign gallery = "" | split: "" %}
{% for f in all_static %}
  {% assign ext = f.extname | downcase %}
  {% if ext == '.jpg' or ext == '.jpeg' or ext == '.png' or ext == '.gif' or ext == '.webp' %}
    {% assign gallery = gallery | push: f %}
  {% endif %}
{% endfor %}
{% assign gallery = gallery | sort: "path" | reverse %}

<section class="auto-gallery">
  {% if gallery.size == 0 %}
    <p>No images yet. Add some to <code>assets/images/portfolio/</code> and refresh.</p>
  {% else %}
    <div class="gallery-grid">
      {% for f in gallery %}
        <figure class="gallery-card">
          <a href="{{ f.path }}" target="_blank" rel="noopener">
            <img src="{{ f.path }}" alt="{{ f.name | split:'.' | first }}" loading="lazy">
          </a>
          <figcaption>{{ f.name }}</figcaption>
        </figure>
      {% endfor %}
    </div>
  {% endif %}
</section>

<style>
  .auto-gallery { margin: 1.5rem 0; }
  .gallery-grid { display: grid; gap: 1rem; grid-template-columns: repeat(3, minmax(0, 1fr)); }
  @media (max-width:1100px){ .gallery-grid { grid-template-columns: repeat(2, 1fr); } }
  @media (max-width:700px){ .gallery-grid { grid-template-columns: 1fr; } }
  .gallery-card{ margin:0; padding:.5rem; border:1px solid #e6e6e6; border-radius:.75rem; background:#fff; overflow:hidden; }
  .gallery-card img{ width:100%; height:auto; display:block; border-radius:.5rem; }
  .gallery-card figcaption{ text-align:center; font-size:.85rem; color:#666; margin-top:.5rem; word-break:break-word; }
</style>

<hr>

{%- comment -%} Optional: keep your existing portfolio cards below {%- endcomment -%}
{% for post in site.portfolio reversed %}
  {% include archive-single.html %}
{% endfor %}
